# =========================
# App & Logging
# =========================
APP_ENV=dev
LOG_LEVEL=INFO
LOG_REQUESTS=true
REQUEST_ID_HEADER=X-Request-Id
GENERATE_REQUEST_ID=false

# =========================
# Database (Async)
# =========================
DB_URL=mysql+aiomysql://.....?charset=utf8mb4
SQL_ECHO=false
DB_AUTO_CREATE=true

# =========================
# Auth / JWT
# =========================
JWT_SECRET_KEY=.....
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=admin123

# =========================
# CORS
# =========================
CORS_ORIGINS=*

# =========================
# Upload limit (code uses it)
# =========================
MAX_UPLOAD_MB=50

# =========================
# Storage (Local)
# =========================
STORAGE_DIR=./data/storage
FILE_STORAGE_BACKEND=local
FILE_STORAGE_ROOT=./data/files
FILE_BASE_URL=

# =========================
# Worker
# =========================
WORKER_POLL_INTERVAL=3

# =========================
# RAG / Search backend
# INDEX_BACKEND: vector | bm25 | hybrid
# =========================
INDEX_BACKEND=hybrid
SEARCH_MAX_PER_DOC=3

# =========================
# S3 (reserved; enable if you wire S3 backend)
# =========================
S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_REGION=us-east-1
S3_BUCKET=....
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_FORCE_PATH_STYLE=false
S3_BASE_URL=

# =========================
# Embedding
# =========================
EMBEDDING_BACKEND=dummy
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIM=64

# =========================
# Milvus
# =========================
MILVUS_ENABLED=true
MILVUS_URI=https://.....cloud.zilliz.com
MILVUS_TOKEN=.....
MILVUS_DATABASE=default
MILVUS_COLLECTION_PREFIX=veesees
MILVUS_SECURE=false
MILVUS_METRIC_TYPE=COSINE
MILVUS_INDEX_TYPE=HNSW
MILVUS_HNSW_M=16
MILVUS_HNSW_EF_CONSTRUCTION=200
MILVUS_SEARCH_NPROBE=16
MILVUS_SEARCH_EF=64
MILVUS_INDEX_PARAMS={"index_type":"IVF_FLAT","metric_type":"COSINE","params":{"nlist":1024}}

# =========================
# Elasticsearch
# =========================
NO_PROXY=....
ES_ENABLED=false
ES_URL=http://.....
ES_USERNAME=
ES_PASSWORD=
ES_API_KEY=
ES_INDEX_PREFIX=vs_
ES_TIMEOUT_SECONDS=10

# Whisper / FasterWhisper
WHISPER_MODEL_SIZE=base
WHISPER_DEVICE=cpu
WHISPER_COMPUTE_TYPE=int8
WHISPER_LANGUAGE=

# PaddleOCR/PaddleX
PADDLE_PDX_CACHE_HOME=./models/paddlex_cache
PADDLE_PDX_MODEL_SOURCE=bos
DISABLE_MODEL_SOURCE_CHECK=1
PADDLE_OCR_DET_MODEL_DIR=./models/paddle/paddleocr/det
PADDLE_OCR_REC_MODEL_DIR=./models/paddle/paddleocr/rec
PADDLE_OCR_CLS_MODEL_DIR=./models/paddle/paddleocr/cls
PADDLE_OCR_REC_CHAR_DICT_PATH=./models/paddle/paddleocr/ppocr_keys_v1.txt

# =========================
# Default LLM alias
# =========================
DEFAULT_LLM=openai:gpt-4o-mini

# =========================
# OpenAI
# =========================
OPENAI_BASE_URL=https://api.openai-proxy.org/v1
OPENAI_API_KEY=sk-....

# =========================
# DeepSeek
# =========================
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_API_KEY=sk-....
DEEPSEEK_TIMEOUT_SECONDS=60

# =========================
# Qwen (DashScope compatible)
# =========================
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_API_KEY=sk-....
QWEN_TIMEOUT_SECONDS=60

# =========================
# Claude (Anthropic)
# =========================
CLAUDE_BASE_URL=https://api.openai-proxy.org/anthropic
CLAUDE_API_KEY=sk-....

# =========================
# Gemini (Google)
# =========================
GEMINI_BASE_URL=https://api.openai-proxy.org/google
GEMINI_API_KEY=sk-....
GEMINI_TIMEOUT_SECONDS=60

# =========================
# Local LLM (e.g., Ollama/OpenAI-compatible gateway)
# =========================
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_DEFAULT_MODEL=llama3:8b
OLLAMA_TIMEOUT_SECONDS=60

# =========================
# Elasticsearch (optional)
# =========================

ES_NUMBER_OF_SHARDS=1
ES_NUMBER_OF_REPLICAS=0

ENABLE_AUDIO_ASR=true
ENABLE_IMAGE_OCR=true
OCR_LANG=ch

# =========================
# Spider Raw Database (Read-only)
# =========================
SPIDER_DB_URL=mysql+aiomysql://.....

# =========================
# Spider Queue (Redis)
# =========================
SPIDER_REDIS_URL=redis://...../0
SPIDER_REDIS_LIST_KEY=spider:tasks
SPIDER_REDIS_TIMEOUT_SECONDS=5

# ---------- LLM (optional) ----------
ENABLE_LLM=true
ENABLE_VISION=true
OPENAI_TIMEOUT_SECONDS=60
# Registry YAML directory (default: <project_root>/configs)
LLM_REGISTRY_DIR=
# JSON schema directory (default: <project_root>/configs/schemas)
LLM_SCHEMA_DIR=
# one of: none, lite
LLM_SCHEMA_VALIDATE_MODE=lite

PUBLIC_BASE_URL=http://127.0.0.1:8000

VOC_REVIEW_TOPICS_MIN=5
VOC_REVIEW_TOPICS_MAX=10
VOC_REVIEW_NEG_TOPK_DEFAULT=8
VOC_REVIEW_POS_TOPK_DEFAULT=6
VOC_REVIEW_PROFILE_TOPK=8
VOC_REVIEW_SCENARIO_TOPK=10
VOC_REVIEW_EVIDENCE_TOPK=10